# Software Architecture Patterns

Dit is een verzameling van de belangrijkste software architecture patterns met uitleg en praktische C# voorbeelden.

## Wat is Software Architecture?

Software Architecture definieert de **fundamentele structuur** van een softwaresysteem:
- Hoe componenten georganiseerd zijn
- Hoe ze met elkaar communiceren
- Welke regels en constraints gelden

## Hiërarchie van Patterns

```
???????????????????????????????????????????????????????????????
?              Software Architecture Patterns                  ?
?  (Clean Architecture, Hexagonal, Onion, N-Tier)             ?
?                                                              ?
?   ???????????????????????????????????????????????????????   ?
?   ?           Architectural Patterns                     ?   ?
?   ?   (MVC, MVP, MVVM, Repository)                      ?   ?
?   ?                                                      ?   ?
?   ?   ???????????????????????????????????????????????   ?   ?
?   ?   ?           Design Patterns                    ?   ?   ?
?   ?   ?   (Singleton, Factory, Strategy, etc.)      ?   ?   ?
?   ?   ???????????????????????????????????????????????   ?   ?
?   ???????????????????????????????????????????????????????   ?
???????????????????????????????????????????????????????????????
```

## Overzicht Architecture Patterns

| Pattern | Focus | Kern Principe |
|---------|-------|---------------|
| [N-Tier](N-Tier.md) | Lagen | Horizontale scheiding |
| [Onion](Onion.md) | Domain | Domain in het centrum |
| [Hexagonal](Hexagonal.md) | Ports & Adapters | Externe afhankelijkheden isoleren |
| [Clean Architecture](CleanArchitecture.md) | Use Cases | Dependency Rule |

## Vergelijking

```
N-TIER                    ONION                     HEXAGONAL                 CLEAN
???????????????          ???????????????           ???????????????          ???????????????
? Presentation?          ?   UI/API    ?           ?  Adapters   ?          ?  Frameworks ?
???????????????          ???????????????           ???????????????          ???????????????
?  Business   ?          ?Application  ?           ?    Ports    ?          ?  Interface  ?
???????????????          ???????????????           ???????????????          ?  Adapters   ?
?    Data     ?          ?  Services   ?           ?  Application?          ???????????????
???????????????          ???????????????           ???????????????          ?  Use Cases  ?
?  Database   ?          ?   Domain    ?           ?   Domain    ?          ???????????????
???????????????          ???????????????           ???????????????          ?  Entities   ?
                                                                            ???????????????
     ?                        ??                        ?                        ?
Dependencies              Dependencies             Dependencies             Dependencies
flow DOWN                 point INWARD             are ISOLATED             point INWARD
```

## Welke Architecture Kiezen?

| Scenario | Aanbeveling |
|----------|-------------|
| Klein project, snel opstarten | N-Tier |
| Domain-driven design, complex domein | Onion / Clean |
| Veel externe integraties | Hexagonal |
| Microservices | Clean / Hexagonal |
| Legacy modernisatie | Geleidelijk naar Clean |
| Team onervaren met DDD | N-Tier, later refactoren |

## Decision Flow

```
                    ???????????????????????????
                    ? Hoe complex is je       ?
                    ? business domein?        ?
                    ???????????????????????????
                                ?
           ???????????????????????????????????????????
           ?                                         ?
           ?                                         ?
    ???????????????                           ???????????????
    ?   Simpel    ?                           ?   Complex   ?
    ???????????????                           ???????????????
           ?                                         ?
           ?                                         ?
    ???????????????                    ???????????????????????????
    ?   N-Tier    ?                    ? Hoeveel externe         ?
    ?             ?                    ? integraties?            ?
    ???????????????                    ???????????????????????????
                                                   ?
                              ???????????????????????????????????????????
                              ?                                         ?
                              ?                                         ?
                       ???????????????                           ???????????????
                       ?   Weinig    ?                           ?    Veel     ?
                       ???????????????                           ???????????????
                              ?                                         ?
                              ?                                         ?
                       ???????????????                           ???????????????
                       ?   Onion /   ?                           ?  Hexagonal  ?
                       ?    Clean    ?                           ?             ?
                       ???????????????                           ???????????????
```

## Gemeenschappelijke Principes

Alle moderne architecturen delen deze principes:

### 1. Separation of Concerns
Elke laag/component heeft één verantwoordelijkheid.

### 2. Dependency Inversion
High-level modules zijn niet afhankelijk van low-level modules.

### 3. Domain Centricity
Business logic staat centraal en is onafhankelijk van infrastructure.

### 4. Testbaarheid
Lagen zijn onafhankelijk testbaar door abstracties.

### 5. Framework Independence
De applicatie is niet gebonden aan een specifiek framework.

## Project Structuur Vergelijking

### N-Tier
```
Solution/
??? MyApp.Web/              # Presentation
??? MyApp.Business/         # Business Logic
??? MyApp.Data/             # Data Access
??? MyApp.Entities/         # Shared Entities
```

### Onion / Clean
```
Solution/
??? MyApp.Domain/           # Entities, Value Objects
??? MyApp.Application/      # Use Cases, Interfaces
??? MyApp.Infrastructure/   # External Concerns
??? MyApp.API/              # Entry Point
```

### Hexagonal
```
Solution/
??? MyApp.Domain/           # Core Domain
??? MyApp.Application/      # Ports (Interfaces)
??? MyApp.Adapters.Persistence/  # DB Adapter
??? MyApp.Adapters.Web/          # Web Adapter
??? MyApp.Adapters.Messaging/    # Message Adapter
```

## Zie Ook

- [Clean Architecture](CleanArchitecture.md)
- [Hexagonal Architecture](Hexagonal.md)
- [Onion Architecture](Onion.md)
- [N-Tier Architecture](N-Tier.md)
- [Architectural Patterns (MVC, MVP, MVVM)](../Architectural%20Patterns/README.md)
- [Design Patterns](../Design%20Patterns/README.md)
